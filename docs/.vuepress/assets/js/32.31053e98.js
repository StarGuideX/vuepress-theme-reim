(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{377:function(s,t,e){"use strict";e.r(t);var n=e(25),a=Object(n.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"集群-负载均衡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集群-负载均衡"}},[s._v("#")]),s._v(" 集群&负载均衡")]),s._v(" "),e("h2",{attrs:{id:"反向代理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#反向代理"}},[s._v("#")]),s._v(" 反向代理")]),s._v(" "),e("p",[s._v("请求转发：")]),s._v(" "),e("p",[s._v("轮询、权重、URL-Hash、IP-Hash")]),s._v(" "),e("h2",{attrs:{id:"开源反向代理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开源反向代理"}},[s._v("#")]),s._v(" 开源反向代理")]),s._v(" "),e("p",[s._v("lvs、nginx")]),s._v(" "),e("p",[s._v("lvs-四层协议")]),s._v(" "),e("p",[s._v("四层协议 和七层协议图----")]),s._v(" "),e("p",[s._v("负载均衡策略\n轮询——做错误发现，重试机制\n权重\nIP-Hash——同一个IP访问一个地址\nleast_conn——最少连接数\nfair\nURL-Hash\n均能解决共享Session问题，不常用")]),s._v(" "),e("p",[s._v("用户持久化\nCookie+Session 集群后不能识别\n解决方案1：一个IP之访问某个服务器\n解决方案2：客户端携带——Cookie(体积大/不安全/易丢失)，更好的token：JWT\n解决方案3：Session共享：Sql Server/StateServer/Redis（RedisSession共享会有跨域问题）")])])}),[],!1,null,null,null);t.default=a.exports}}]);